include_rules

: foreach $(WRITEURL_HOME)/server-cpp/test/test_*.cpp $(WRITEURL_HOME)/server-cpp/test/test.cpp $(WRITEURL_HOME)/server-cpp/test/context.cpp |> clang++ $(CFLAGS) -I $(WRITEURL_HOME)/server-cpp/test -I $(WRITEURL_HOME)/server-cpp/src -I $(WRITEURL_HOME)/server-cpp/deps %f -c -o %o |> %B.o

: test.o context.o test_*.o | ../lib/libwriteurl.dylib |> clang++ -I $(WRITEURL_HOME)/server-cpp/test -I $(WRITEURL_HOME)/server-cpp/deps -L ../lib -lwriteurl -Wl,-rpath,@executable_path/../lib %f -o %o |> test
